<html>
<head>
    <%- include ./layouts/header.ejs %>
</head>
<body>
<!--Including Header and NavBar Partial-->
<%- include ./layouts/navbar.ejs %>
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">Products</li>
  </ol>
</nav>

<h1>All Products</h1>

  <div class="container-fluid">
      <!-- Spacer column -->
      <div class="row">
          <div class="col-3"></div>
          <!-- List column -->
          <div class="col">
              <div class="card-deck">
                  <% if (data) { %>
                  <!-- Using a for-loop to loop over each row in the database.
  The 'data' variable is passed from the store.js during the response.render function call -->
                  <% data.forEach(function(item){ %>
                  <div class="row">
                      <div class="card product-card">
                          <% console.log(image_data)%>
                          <% console.log(image_data[item.type][0]['image'])%>
                          <img class="card-img-top" src="/Database_Images/<%= image_data[item.type][0]['image'] %>" alt="Card image cap">
                          <div class="card-body">
                              <ul class="list-group list-group-flush">
                                  <li class="list-group-item">
                                      <p class="card-title"><a href="/<%= item.type %>/<%- item.id %>">
                                              <%= item.type %></a></p>
                                  </li>
                                  <li class="list-group-item">
                                      <p class="card-text">
                                            Some text describing the category.
                                      </p>
                                  </li>
                              </ul>
                          </div>
                      </div>
                  </div>
                  <% }) %>
                  <% } %>
              <!-- End Card Deck -->
              </div>
          </div>
          <!-- Spacer Column -->
          <div class="col-3"></div>
      </div>
  </div>
</body>

</html>
